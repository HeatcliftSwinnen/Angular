<h2>Ajouter un nouveau fan :</h2>
<div class="chapter">
    <div class="mb-2">
        <a routerLink="/exo/exo5">Revenir Ã  la liste des fans</a>
    </div>

    <form [formGroup]="fanForm" (submit)="addFan()">
        <div>
            <input type="text" placeholder="Nom du fan" formControlName="name">
            <span *ngIf="fanForm.get('name')?.touched && fanForm.get('name')?.errors?.['required']"  class="error">Ce champs est requis</span>
        </div>
        <div>
            <input type="date" formControlName="birthdate">
            <span *ngIf="fanForm.get('birthdate')?.touched && fanForm.get('birthdate')?.errors?.['required']" class="error">Ce champs est requis</span>
            <span *ngIf="fanForm.get('birthdate')?.errors?.['peggi']" class="error">Vous devez avoir plus de 13 ans ğŸ‘¶</span>
        </div>
        <div formArrayName="series" >
            <h4>Ajouter des sÃ©ries :</h4>

            <input (click)="addSerie()" type="button" class="btn mb-1" value="Ajouter une sÃ©rie">

            <div *ngFor="let serie of series.controls; let i = index">
                <input type="text" placeholder="SÃ©rie NÂ°{{i+1}}" [formControlName]="i">
                <span *ngIf="series.controls[i].touched && series.controls[i]?.errors?.['required']" class="error">Ce champs est requis</span>
                <span (click)="removeSerie(i)">âœ–</span>
            </div>

        </div>

        <div>
            <input class="btn" type="submit" value="Ajouter le fan" >
        </div>
    </form>
</div>